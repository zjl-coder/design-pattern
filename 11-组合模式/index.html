<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>组合模式</h1>
  <div><strong>组合模式</strong> （Composite Pattern）又叫 <strong>整体--部分模式</strong> ，它允许你将对象组合成树形结构来表现整体-部分层次结构，让使用者可以以一致的方式处理组合对象以及部分对象。</div>
  <h4>生活中的例子</h4>
  <ul>
    <li>文件夹 树</li>
    <li>公司组织架构 树</li>
    <li>家族关系链 树</li>
  </ul>
  <h4>特点</h4>
  <ul>
    <li>结构呈整体-部分的树形关系，整体部分一般称为组合对象，组合对象下还可以有组合对象和叶对象；</li>
    <li>组合对象和叶对象 <strong>有一致的接口和数据结构</strong> ，以保证操作一致； 如 _proto_ 原型链</li>
    <li>请求从树的最顶端往下传递，如果当前处理请求的对象是叶对象，叶对象自身会对请求作出相应的处理；如果当前处理的是组合对象，则遍历其下的子节点（叶对象），将请求继续传递给这些子节点；</li>
  </ul>
  <h4>组合模式和职责链模式</h4>
  <ul>
    <li>组合模式是天生实现了职责链模式的。</li>
    <li><strong>组合模式：</strong> 请求在组合对象上传递，被深度遍历到组合对象的所有子孙叶节点具体执行；</li>
    <li><strong>职责链模式：</strong> 实现请求的发送者和接受者之间的解耦，把多个接受者组合起来形成职责链，请求在链上传递，直到有接受者处理请求为止；</li>
  </ul>
  <h4>组合模式和迭代器模式</h4>
  <ul>组合模式可以结合迭代器模式一起使用，在遍历组合对象的叶节点的时候，可以使用迭代器模式来遍历。</ul>
  <h4>组合模式和命令模式</h4>
  <ul>命令模式里有一个用法「宏命令」，宏命令就是组合模式和命令模式一起使用的结果，是组合模式组装而成。</ul>
  <h4>桥接模式与组合模式</h4>
  <ul>
    <li>组合模式组合的是具有相同接口和数据结构的对象，形成树</li>
    <li>桥接模式组合的是不同对象（接口不同，数据结构不同）</li>
    <li>当桥接模式组合的对象具有相同的数据结构和接口，也成了组合模式</li>
  </ul>
</body>
</html>